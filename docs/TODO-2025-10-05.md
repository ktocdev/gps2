# GPS2 Implementation TODO - October 5, 2025

**Created:** October 5, 2025
**Last Updated:** October 7, 2025
**Status:** Phase 2.5 Ready 🚀
**Branch:** TBD
**Previous:** [TODO-2025-10-04.md](archive/TODO-2025-10-04.md)

---

## 🎯 **Phase 2.5: Interactive Feedback Enhancement**

### Overview
Enhance gameplay feedback through personality traits, preferences, wellness-based reactions, rescue system, and comprehensive activity messages. These systems build on Phase 2 foundations to create unique, responsive guinea pig personalities.

**Duration:** 1-2 weeks
**Goal:** Rich interactive feedback making each guinea pig feel unique and alive

---

## 📋 **Active Tasks**

### System 1: Personality Trait Influences ✅
**Priority:** HIGH (foundational)
**Status:** Complete

- [x] Add personality trait modifiers to guinea pig store
- [x] Implement need decay rate calculations with personality
- [x] Create interaction effectiveness modifiers
- [x] Add personality-based reaction logic
- [x] Build Personality Debug panel with trait adjustment
- [x] Add decay rate preview calculator
- [x] Replaced Independence trait with Boldness (affects Comfort instead of Social)
- [x] Fixed friendliness decay formula direction
- [ ] **Testing needed:** Verify personality effects on gameplay

**Files Updated:**
- `src/stores/guineaPigStore.ts` (added getPersonalityDecayModifier)
- `src/stores/petStoreManager.ts` (updated random generation)

**Files Created:**
- `src/components/debug/PersonalityDebug.vue`

**Documentation:** [System 1: Personality Trait Influences](systems/phase2.5/system-1-personality-trait-influences.md)

---

### System 2: Preferences: Likes & Dislikes ✅
**Priority:** HIGH (foundational)
**Status:** Complete - Testing Needed

- [x] Add preferences data structure to guinea pig
- [x] Implement hidden preference system (favorites/neutral/dislikes)
- [x] Create preference response modifiers (+50%, -30%)
- [x] Add rejection logic for disliked items (50% food, 70% activities)
- [x] Update interaction methods with preference checks
- [x] Add food selection dropdowns to NeedsDebug (hunger need)
- [x] Add activity selection dropdowns to NeedsDebug (play/stimulation needs)
- [x] Updated feedGuineaPig with preference system
- [x] Updated playWithGuineaPig with preference system
- [x] Enhanced MessageGenerator with preference-aware messages
- [ ] **Testing needed:** Test food preferences (favorites, dislikes, rejection)
- [ ] **Testing needed:** Test activity preferences (favorites, dislikes, rejection)

**Files Updated:**
- `src/stores/guineaPigStore.ts` (feedGuineaPig, playWithGuineaPig with preferences)
- `src/components/debug/NeedsDebug.vue` (food and activity selection dropdowns)
- `src/utils/messageGenerator.ts` (preference-aware messages)

**Testing Tools:**
- Guinea Pig Editor (Pet Store Debug) - Edit preferences
- NeedsDebug panel - Test with food/activity dropdowns

**Documentation:** [System 2: Preferences: Likes & Dislikes](systems/phase2.5/system-2-preferences-likes-dislikes.md)

---

### System 3: Wellness-Based Interaction Reactions
**Priority:** MEDIUM (uses personality)
**Status:** Not Started

- [ ] Create wellness tier system (5 tiers: 80%+, 60-79%, 40-59%, 20-39%, <20%)
- [ ] Implement interaction success rate calculator (95% → 20%)
- [ ] Add behavioral state system (thriving/content/stressed/withdrawn/critical)
- [ ] Create rejection logic with cooldowns (30-60s)
- [ ] Update all interaction methods with wellness checks

**Files to Update:**
- `src/stores/guineaPigStore.ts` (add wellness-based reactions)
- `src/stores/needsController.ts` (add behavioral states)

**Testing Tools:**
- NeedsDebug panel - Adjust wellness/needs to test different tiers
- Activity Feed - Observe interaction success/rejection messages

**Documentation:** [System 3: Wellness-Based Interaction Reactions](systems/phase2.5/system-3-wellness-interaction-reactions.md)

---

### System 4: Guinea Pig Rescue System
**Priority:** MEDIUM (uses wellness)
**Status:** Not Started

- [ ] Create rescue detection system (wellness < 15%)
- [ ] Implement rescue action (needs → 100%, $200 penalty)
- [ ] Create Fresh Start option ($1000 reset, lose slots 4-10)
- [ ] Build rescue modal dialogs (BaseDialog/ConfirmDialog)
- [ ] Add warning for guinea pigs in slots 4-10
- [ ] Create preview mode for dialog testing
- [ ] Integrate rescue controls into NeedsDebug panel
- [ ] Add rescue threshold adjustment slider

**Files to Update:**
- `src/stores/needsController.ts` (add rescue detection)
- `src/stores/playerProgression.ts` (add Fresh Start)
- `src/components/debug/NeedsDebug.vue` (add rescue controls)

**Files to Create:**
- `src/components/dialogs/RescueDialog.vue`
- `src/components/dialogs/FreshStartDialog.vue`

**Documentation:** [System 4: Guinea Pig Rescue](systems/phase2.5/system-4-guinea-pig-rescue.md)

---

### System 5: Enhanced Activity Messages
**Priority:** LOW (uses all systems)
**Status:** Not Started

- [ ] Create need warning system (20-30% warning, <15% critical)
- [ ] Implement throttling (60s warnings, 30s critical)
- [ ] Add wellness-based activity messages (4 ranges)
- [ ] Create like/dislike clue messages
- [ ] Implement friendship milestone tracking (6 tiers)
- [ ] Add guinea pig reaction messages to interactions

**Files to Update:**
- `src/stores/needsController.ts` (add warning system)
- `src/stores/activityFeed.ts` (add message categories)
- `src/utils/messageGenerator.ts` (add new templates)

**Testing Tools:**
- Activity Feed - Observe message throttling, reactions, warnings

**Documentation:** [System 5: Enhanced Activity Messages](systems/phase2.5/system-5-enhanced-activity-messages.md)

---

## 🔄 **Integration Tasks**

### Cross-System Integration
- [ ] Integrate personality traits with need decay (System 1 → needsController)
- [ ] Connect preferences to interaction methods (System 2 → guineaPigStore)
- [ ] Link wellness to interaction success rates (System 3 → all interactions)
- [ ] Integrate rescue system with wellness monitoring (System 4 → needsController)
- [ ] Connect all systems to enhanced activity messages (System 5 → activityFeed)

### UI/UX Integration
- [ ] Add personality trait displays to guinea pig panels
- [ ] Create preference discovery hints in activity feed
- [ ] Add wellness tier indicators to guinea pig status
- [ ] Implement rescue dialog modals
- [ ] Create activity message filtering and preview

### Activity Feed Integration
- [ ] Add guinea pig reaction messages to all interactions
- [ ] Implement need warning messages with throttling
- [ ] Create wellness-based activity messages
- [ ] Add like/dislike clue messages
- [ ] Implement friendship milestone notifications

---

## 🧪 **Testing & Validation**

### System Testing
- [ ] Test personality trait effects on need decay rates
- [ ] Validate preference response modifiers (favorites/dislikes)
- [ ] Test wellness tier success rates (95% → 20%)
- [ ] Verify rescue trigger at wellness < 15%
- [ ] Check activity message throttling (60s/30s)
- [ ] Test friendship milestone tracking

### Integration Testing
- [ ] Test personality + wellness + preferences combined effects
- [ ] Validate rescue → Fresh Start → slot 4-10 loss
- [ ] Test interaction rejection with cooldowns
- [ ] Verify need warnings don't spam
- [ ] Check guinea pig reactions to all interactions

### UI/UX Testing
- [ ] Mobile responsiveness of debug panels
- [ ] Rescue dialog modal flow
- [ ] Fresh Start warning clarity
- [ ] Activity message readability
- [ ] Debug controls accessibility

---

## 📝 **Documentation Tasks**

- [x] Document personality trait influences ✅
- [x] Document preferences system ✅
- [x] Document wellness-based reactions ✅
- [x] Document rescue system ✅
- [x] Document enhanced activity messages ✅
- [ ] Update SYSTEM_INTEGRATION.md with Phase 2.5 systems
- [ ] Create Phase 2.5 testing guide

---

## 🎨 **UI/UX Polish**

- [ ] Personality trait display styling
- [ ] Wellness tier visual indicators
- [ ] Rescue dialog styling (danger theme)
- [ ] Fresh Start warning prominence
- [ ] Activity message category badges
- [ ] Debug panel organization (2 new panels: PersonalityDebug, Rescue System Debug)

---

## ✅ **Recently Completed**

### Phase 2.5 System 1 & 2 (October 7, 2025)
- ✅ **System 1: Personality Trait Influences** - Complete (testing needed)
  - Personality modifiers for need decay (Friendliness→Social, Playfulness→Play, Curiosity→Stimulation, Boldness→Comfort)
  - PersonalityDebug.vue with trait sliders and decay rate preview
  - Replaced Independence with Boldness trait
  - Fixed friendliness decay formula direction
- ✅ **System 2: Preferences** - Complete (testing needed)
  - Food preferences (favorites +50%, dislikes -30% or 50% rejection)
  - Activity preferences (favorites +50%, dislikes -40% or 70% rejection)
  - Food/activity selection dropdowns in NeedsDebug
  - Preference-aware messages in MessageGenerator
  - Game pause fix (connected to needs pause)

### Phase 2.5 Documentation (October 7, 2025)
- ✅ **System Documentation** - All 5 Phase 2.5 systems documented
- ✅ **File Renaming** - Reordered systems 1-5 to optimal development order
- ✅ **PROJECT_PLAN.md** - Added Phase 2.5 section with all systems
- ✅ **DEVELOPMENT_PHASES.md** - Added complete Phase 2.5 section
- ✅ **TODO Updated** - Converted from Phase 3 to Phase 2.5 tasks

### Phase 2 Complete (October 5, 2025)
- ✅ **Pet Store Debug UI Optimization** - Details component, panel reorganization
- ✅ **Needs System Major Refactor** - 11-need structure, new interactions, weighted wellness
- ✅ **Needs Debug UI Optimization** - Responsive layout, need-specific colors, accessible contrast
- ✅ **All Phase 2 Systems** - Pet Store, Favorites, Needs, Timing all complete
- ✅ **Mobile Responsiveness** - All debug panels responsive below 1440px

---

## 📊 **Phase Status**

**Phase 2: Complete ✅**
- Pet Store & Game Session Manager (6.5)
- Guinea Pig Favorites (6.9)
- Needs System (7) - 11 needs with quick actions
- Needs Controller (8) - Manual pause tracking
- Game Timing (9-10) - Pause/resume integration

**Phase 2.5: In Progress 🚧**
- Personality Trait Influences (1) - Complete ✅ (Testing Needed)
- Preferences: Likes & Dislikes (2) - Complete ✅ (Testing Needed)
- Wellness-Based Interaction Reactions (3) - Not Started
- Guinea Pig Rescue (4) - Not Started
- Enhanced Activity Messages (5) - Not Started

**Phase 3: Queued 📋**
- Habitat Conditions (11) - Waiting for Phase 2.5
- Habitat Items (12) - Waiting for Phase 2.5
- Inventory & Store (13) - Waiting for Phase 2.5
- Habitat Maintenance (14) - Waiting for Phase 2.5

---

## 🔧 **Development**

**Commands:**
- Build: `npm run build` (run before commits)
- Dev: `npm run dev`

**Documentation:**
- [Development Phases](DEVELOPMENT_PHASES.md)
- [System Integration](SYSTEM_INTEGRATION.md)
- [Phase 2.5 Systems](systems/phase2.5/)
