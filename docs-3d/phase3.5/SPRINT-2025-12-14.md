# GPS2 3D Sprint - December 14, 2025

**Started:** December 14, 2025
**Status:** Active
**Branch:** GPS2-56
**Previous Sprint:** [SPRINT-2025-12-12.md](./archived/SPRINT-2025-12-12.md)

**Progress:**
- Code Audit - 3D Behavior System DONE (8.5/10)
- CSS Audit - New Components DONE (9/10)
- Guinea Pig Selection Toggle marked COMPLETE (via NeedsPanel)
- Manual Triggers Panel marked WON'T DO (NeedsPanel covers this)
- Shelter Need Fulfillment DONE
- Sleep Need Fulfillment DONE
- Shared Shelter Positioning DONE (left/right slots for two guinea pigs)
- Groom Need Fulfillment DONE
- 3D Habitat Fullscreen Mode DONE
- 3D Habitat Floating Action Buttons DONE (candy color palette)
- FAB Subactions for Habitat Care DONE (expandable to left)
- Activity Log as Overlay Panel DONE (integrated tab, slides over canvas)
- Added violet and yellow color palettes to variables.css
- SidePanel3D shared base component DONE (Activity Feed + Inventory panels)
- Inventory3DPanel component DONE (sections: Food, Habitat Items, Bedding)
- 3D Inventory Item Placement (Click-to-Place) IN PROGRESS
- Wooden Archway Tunnel added to supplies store DONE
- Wooden Archway Tunnel model updated (no floor, 30% shorter legs) DONE

---

## Sprint Goals

**Focus:** Testing, Code Quality, Shelter Need Implementation

**Priority Areas:**
1. Test existing hunger/thirst behaviors
2. Code and CSS audits
3. Implement shelter need (guinea pig enters igloo)

---

## Sprint Backlog

### Test Drinking Behavior
**Priority:** HIGH (P1)
**Status:** ðŸ”² TODO
**Category:** Testing

**Checklist:**
- [X] Thirst < 65 triggers seek water behavior
- [X] Guinea pig navigates to water bottle
- [X] Water level decreases visually when drinking
- [X] Bubble animation appears during drinking
- [X] Thirst restores to correct value after drinking (35% restore)

---

### Test Hunger Behavior
**Priority:** HIGH (P1)
**Status:** ðŸ”² TODO
**Category:** Testing

**Checklist:**
- [X] Hunger < 70 triggers seek food behavior
- [X] Guinea pig navigates to food bowl
- [X] Guinea pig eats at bowl (3 second duration)
- [X] Hunger restores to correct value after eating (50 restore)

---

### Code Audit - 3D Behavior System
**Priority:** MEDIUM (P2)
**Status:** âœ… COMPLETE
**Category:** Code Quality

**Overall Score: 8.5/10**

| File | TS | Memory | Errors | Structure |
|------|-----|--------|--------|-----------|
| use3DBehavior.ts | 9/10 | 9/10 | 8/10 | 9/10 |
| use3DMovement.ts | 8/10 | 9/10 | 8/10 | 9/10 |
| use3DGuineaPig.ts | 8/10 | 9/10 | 7/10 | 9/10 |

**Issues Found & Fixed:**
- `use3DMovement.ts:24` - Changed `let isAnimating` to `const isAnimating` âœ…

**Issues Reviewed (No Action Needed):**
- Direct store mutation for `lastPoopTime` - consistent with 2D behavior pattern, valid in Pinia setup stores

---

### CSS Audit - New Components
**Priority:** MEDIUM (P2)
**Status:** âœ… COMPLETE
**Category:** Code Quality

**Overall Score: 9/10**

| File | BEM | Logical Props | CSS Vars | Score |
|------|-----|---------------|----------|-------|
| GuineaPigInfoMenu.vue | 10/10 | 10/10 | 9/10 | 9.5/10 |
| WaterBottleMenu.vue | 10/10 | 10/10 | 9/10 | 9/10 |

**Issues Found & Fixed:**
- `WaterBottleMenu.vue:172-178` - Changed hardcoded `#0088ff`/`#0066cc` to `var(--color-info)`/`var(--color-info-hover)` âœ…

**Notes:**
- Water level gradient colors kept as-is (semantic: blue=high, yellow=medium, red=low)

---

### Implement Shelter Need Fulfillment
**Priority:** HIGH (P1)
**Status:** âœ… COMPLETE
**Category:** Core Feature

**Goal:** Guinea pig enters igloo when shelter need is low

**Implementation:**
1. [X] Pathfinding navigates to entrance position (+Z offset from igloo center)
2. [X] Added shelter threshold = 50 to `use3DBehavior.ts`
3. [X] Added `seek_shelter` behavior type with priority 70 (moderate)
4. [X] Guinea pig navigates to igloo entrance (5 units in front)
5. [X] Guinea pig moves inside igloo (visible through transparent dome)
6. [X] Shelter need restores 30 points, comfort restores 15 points
7. [X] Guinea pig exits after 8 seconds

**Design Decisions Made:**
- Guinea pig is **visible** inside igloo (seen through transparent pink dome)
- Duration: **8 seconds** in shelter
- Also restores **comfort +15** when sheltering (synergy bonus)

**Animation Sequence:**
1. Walk to entrance (pathfinding, avoids obstacles)
2. Walk directly into center (no pathfinding - bypasses obstacles for intentional entry)
3. Rotate 180Â° to face entrance (smooth eased rotation over 600ms)
4. Rest for 8 seconds inside shelter
5. Walk directly out to entrance (head first, smooth exit)
6. Resume normal behavior

**New Functions Added:**
- `moveDirectTo()` - Move without pathfinding for intentional shelter entry/exit
- `rotateTo()` - Smooth rotation animation with cubic easing
- `isAnotherGuineaPigInShelter()` - Check if shelter is occupied
- `getShelterSlotPosition()` - Get left/right position inside shelter

**Shared Shelter Support:**
- First guinea pig always positions on the **left** side
- Second guinea pig positions on the **right** side
- Both guinea pigs can shelter/sleep simultaneously
- Side offset: 1.2 units from center

**Configuration:**
| Need | Threshold | Duration | Restore | Cooldown |
|------|-----------|----------|---------|----------|
| Shelter | 50 | 8000ms | 30 | 60s |

**Files Modified:**
- [use3DBehavior.ts](../../src/composables/3d/use3DBehavior.ts) - Added shelter behavior with async animation sequence
- [use3DMovement.ts](../../src/composables/3d/use3DMovement.ts) - Added `moveDirectTo()` and `rotateTo()` functions
- [Habitat3DDebug.vue](../../src/components/debug/environment/Habitat3DDebug.vue) - Added shelter start/end callbacks

---

### Implement Sleep Need Fulfillment
**Priority:** HIGH (P1)
**Status:** âœ… COMPLETE
**Category:** Core Feature

**Goal:** Guinea pig sleeps when energy is low (matching 2D behavior)

**Implementation:**
1. [X] Added `sleep` behavior type and `sleeping` activity
2. [X] Added `findSleepPosition()` - finds bed > shelter > sleep in place
3. [X] Sleep priority 80 (high), triggers when energy < 40
4. [X] Reuses shelter entry animation for sleeping in igloo
5. [X] Sleep pose: closed eyes (scale.y = 0.1), squished body (scale.y = 0.85)
6. [X] Breathing animation continues during sleep
7. [X] Sleep quality multiplier: 1.0x (floor) to 1.85x (bed+shelter)

**Configuration:**
| Parameter | Value |
|-----------|-------|
| Energy Threshold | < 40% |
| Priority Weight | 80 (high) |
| Base Duration | 5000ms |
| Duration Multiplier | 1.2x-2.0x based on tiredness |
| Max Duration | 15 seconds |
| Base Energy Restore | 25 |
| Cooldown | 2 minutes |

**Sleep Location Priority:**
1. **Bed** (if available) - walk to bed, lay down
2. **Shelter/Igloo** (if available) - reuse shelter entry animation
3. **Floor** (fallback) - sleep in place

**Quality Multiplier:**
- Floor: 1.0x (25 energy restored)
- Bed: 1.55x (~39 energy restored)
- Shelter/Igloo: 1.65x (~41 energy restored)

**Visual Changes:**
- Eyes closed (no blinking during sleep)
- Body scale Y reduced to 0.85 (laying/curled pose)
- Breathing continues (shows guinea pig is alive)

**Shared Igloo Sleep:**
- Uses same left/right slot positioning as shelter behavior
- Both guinea pigs can sleep in igloo simultaneously
- Future: Social bonding increases when sleeping together

**Files Modified:**
- [use3DBehavior.ts](../../src/composables/3d/use3DBehavior.ts) - Added sleep behavior, config, callbacks, shared slot positioning
- [use3DGuineaPig.ts](../../src/composables/use3DGuineaPig.ts) - Added `isSleeping` param for visual state
- [Habitat3DDebug.vue](../../src/components/debug/environment/Habitat3DDebug.vue) - Pass sleep state to animation

---

### Implement Groom Need Fulfillment
**Priority:** MEDIUM (P2)
**Status:** âœ… COMPLETE
**Category:** Core Feature

**Goal:** Guinea pig grooms itself when hygiene is low (matching 2D behavior)

**Implementation:**
1. [X] Added `groom` behavior type and `grooming` activity
2. [X] Groom priority 50 (moderate), triggers when hygiene < 60
3. [X] No movement required - guinea pig grooms in place
4. [X] Personality cleanliness trait affects duration and restoration
5. [X] Grooming animation: front legs paw at face, eyes squinted

**Configuration:**
| Parameter | Value |
|-----------|-------|
| Hygiene Threshold | < 60% |
| Priority Weight | 50 (moderate) |
| Base Duration | 4000ms |
| Duration Multiplier | 0.75x-1.2x based on cleanliness trait |
| Base Hygiene Restore | 15 |
| Restore Multiplier | 0.55x-1.0x based on cleanliness trait |
| Cooldown | 30 seconds |

**Personality Influence:**
- Cleanliness trait (1-10) affects both duration and restoration
- Higher cleanliness = longer, more thorough grooming = more hygiene restored
- Cleanliness 1: ~8 hygiene restored, 3s duration
- Cleanliness 10: ~15 hygiene restored, 4.8s duration

**Animation:**
- Guinea pig sits up on haunches (body tilts back ~15Â°)
- Front legs lift higher and paw alternately (like washing face)
- Eyes slightly squinted (concentrating)
- Breathing continues
- Back legs remain planted (supporting sit-up pose)
- Smooth transition in/out of sit-up pose

**Files Modified:**
- [use3DBehavior.ts](../../src/composables/3d/use3DBehavior.ts) - Added groom behavior, config, callbacks
- [use3DGuineaPig.ts](../../src/composables/use3DGuineaPig.ts) - Added `isGrooming` param for paw animation
- [Habitat3DDebug.vue](../../src/components/debug/environment/Habitat3DDebug.vue) - Pass groom state to animation

---

### 3D Habitat Fullscreen Mode
**Priority:** LOW (P3)
**Status:** âœ… COMPLETE
**Category:** Quality of Life

**Goal:** Provide an immersive fullscreen view of the 3D habitat

**Implementation:**
1. [X] Added `isFullscreen` state to Habitat3DDebug.vue
2. [X] Toggle button "Enter Fullscreen" visible below NeedsPanel
3. [X] Fullscreen header with title, Pause, and Exit Fullscreen buttons
4. [X] Body class `habitat-fullscreen` hides debug header and nav
5. [X] Escape key exits fullscreen mode
6. [X] Canvas expands to fill viewport in fullscreen mode

**Fullscreen Header Layout:**
- Title "3D Habitat" on the left
- Pause/Resume and Exit Fullscreen buttons on the right
- `justify-content: space-between` for proper spacing

**Controls:**
| Action | Method |
|--------|--------|
| Enter Fullscreen | Click "â›¶ Enter Fullscreen" button |
| Exit Fullscreen | Click "Exit Fullscreen" button or press Escape |
| Pause/Resume | Click Pause/Resume button in fullscreen header |

**Visual Changes in Fullscreen:**
- Debug header and navigation hidden
- Canvas height: `calc(100vh - 80px)` to fill viewport
- NeedsPanel hidden for maximum immersion
- Compact header with essential controls only

**Files Modified:**
- [Habitat3DDebug.vue](../../src/components/debug/environment/Habitat3DDebug.vue) - Added fullscreen state, toggle functions, header, and CSS
- [DebugView.vue](../../src/views/DebugView.vue) - Added CSS to hide header/nav when `body.habitat-fullscreen`

---

### 3D Habitat Floating Action Buttons
**Priority:** MEDIUM (P2)
**Status:** âœ… COMPLETE
**Category:** UI/UX

**Goal:** Add floating action buttons (FABs) to the 3D habitat canvas for quick access to common actions

**Design:**
- Circular buttons positioned on the right side of the canvas
- Vertically stacked, aligned to bottom-right
- Visible in both normal and fullscreen modes
- Candy color palette using CSS variables

**Right FABs (Actions):**
| Icon | Action | Color | Functionality |
|------|--------|-------|---------------|
| ðŸ¹ | Guinea Pigs | Pink | Player interactions (pet, hold, feed, etc.) |
| ðŸŽ’ | Inventory | Violet | Add items to habitat |
| ðŸ  | Habitat Care | Green | Clean, refill water, fill hay racks |

**Activity Log (Integrated Tab):**
- Vertical tab on left edge of canvas when collapsed
- Tab shows ðŸ“œ icon and "Activity" text vertically
- Slides out to reveal full panel when clicked

**Habitat Care Subactions:**
When ðŸ  is clicked, subaction buttons expand horizontally to the LEFT:
| Icon | Action | Method Called |
|------|--------|---------------|
| ðŸ§½ | Clean Habitat | `habitatConditions.cleanCage()` |
| ðŸ§¹ | Quick Clean | `habitatConditions.quickClean()` |
| ðŸ’§ | Refill Water | `habitatConditions.refillWater()` |
| ðŸŒ¾ | Fill All Hay Racks | `habitatConditions.fillAllHayRacks()` |

**Subaction Design:**
- Smaller circular buttons (40px diameter vs 48px main FAB)
- Lighter color shade (e.g., green-400 for habitat-care)
- Slide-in animation from right
- Subactions stay open until main FAB clicked again

**Implementation Checklist:**
- [X] Create FAB container component with vertical stack layout
- [X] Add ðŸ  Habitat Care button with expandable subactions
- [X] Add ðŸŽ’ Inventory button (placeholder)
- [X] Add ðŸ¹ Guinea Pigs button (placeholder)
- [X] Add Activity Log with integrated tab (left edge)
- [X] Style as circular buttons with hover/active states
- [X] Position fixed to canvas right edge
- [X] Ensure buttons work in fullscreen mode
- [X] Implement subaction expand/collapse animation
- [X] Wire up Habitat Care subactions to store methods

**CSS Classes:**
- `.game-fab` - Main FAB button (48px)
- `.game-fab--{color}` - Color variants (pink, violet, green, yellow, orange, cyan)
- `.game-fab--active` - Active/expanded state
- `.game-fab-container` - FAB container (right side)
- `.game-fab-row` - Row wrapper for FAB + subactions
- `.game-fab-subactions` - Subaction buttons container
- `.game-fab-sub` - Subaction button (40px)
- `.game-fab-sub--{color}` - Subaction color variants

**Files Modified:**
- [Habitat3DDebug.vue](../../src/components/debug/environment/Habitat3DDebug.vue) - Added FABs, subactions, handlers, CSS
- [variables.css](../../src/styles/variables.css) - Added violet and yellow color palettes

---

### Activity Log Overlay Panel
**Priority:** MEDIUM (P2)
**Status:** âœ… COMPLETE
**Category:** UI/UX

**Goal:** Provide access to activity messages via a collapsible overlay panel with integrated tab

**Implementation:**
1. [X] Created Activity Feed overlay panel with integrated tab
2. [X] Tab visible on left edge when panel collapsed
3. [X] Panel body slides in/out with transform animation
4. [X] Fixed width 320px, 100% height of canvas
5. [X] Overlays canvas (doesn't distort aspect ratio)
6. [X] Connected to `loggingStore.activityMessages`
7. [X] Category-based color coding for messages
8. [X] Time formatting for timestamps

**Panel Features:**
| Feature | Implementation |
|---------|----------------|
| Layout | Absolute overlay (left side of canvas) |
| Width | 320px (body) |
| Height | 100% of canvas |
| Collapse Animation | CSS transform translateX (0.3s) |
| Max Messages | 50 (most recent) |
| Shadow | Box shadow when body is open |

**Integrated Tab:**
- Position: Left edge of canvas (visible when collapsed)
- Style: Vertical yellow tab with rounded right corners
- Content: ðŸ“œ icon + "Activity" text (vertical writing mode)
- Hover: Darker yellow background
- Hides when panel is expanded

**Message Categories & Colors:**
| Category | Border Color |
|----------|--------------|
| player_action | Pink (primary) |
| guinea_pig_reaction | Green (secondary) |
| autonomous_behavior | Blue (info) |
| environmental | Orange (warning) |
| achievement | Pink with pink background |

**CSS Classes:**
- `.activity-feed-panel` - Panel container (pointer-events: none)
- `.activity-feed-panel--collapsed` - Collapsed state
- `.activity-feed-panel__tab` - Vertical tab (visible when collapsed)
- `.activity-feed-panel__body` - Panel body with content
- `.activity-feed-panel__header` - Panel header (yellow background)
- `.activity-feed-panel__content` - Scrollable message list
- `.activity-feed-panel__message` - Individual message
- `.activity-feed-panel__message--{category}` - Category-specific styling

**Files Modified:**
- [Habitat3DDebug.vue](../../src/components/debug/environment/Habitat3DDebug.vue) - Added Activity Feed overlay panel with integrated tab

---

### 3D Inventory Item Placement (Click-to-Place)
**Priority:** MEDIUM (P2)
**Status:** ðŸ”„ IN PROGRESS
**Category:** Core Feature

**Goal:** Allow users to place items from inventory into the 3D habitat via click-to-place interaction

**Flow:**
```
Inventory click â†’ Enter placement mode â†’ Mouse moves show ghost preview â†’ Click to place
ESC â†’ Close inventory (placement stays active) OR cancel placement if no inventory open
```

**Placement Rules (matching 2D habitat):**
| Item Type | Placeable | Special Rules |
|-----------|-----------|---------------|
| `habitat_item` | Yes | Water bottles: edges only |
| `food` (non-serving) | Yes | Direct placement |
| `food` (serving-based) | No | Must go in bowls (click bowl to add) |
| `hay` | No | Must go in hay racks (click rack to add) |
| `bedding` | No | Used automatically during cleaning |

**Validation:**
- No overlap with existing items (grid cell check)
- Within habitat bounds
- Water bottles: edge cells only
- Free placement (no grid snapping for preview)

**Implementation Checklist:**
- [X] Add `placementMode` state to Habitat3DDebug.vue
- [X] Add `worldToGrid()` function to shared/utils.ts
- [X] Create `enterPlacementMode(itemId)` function
- [X] Create ghost preview mesh with transparency
- [X] Add `@mousemove` handler to canvas for preview positioning
- [X] Add `isValidPlacement()` validation function
- [X] Update preview color (green=valid, red=invalid) via emissive
- [X] Modify `handleCanvasClick()` to handle placement mode
- [X] Add `exitPlacementMode()` function
- [X] Update ESC key handler (close inventory first, then cancel placement)
- [ ] Wire up inventory panel `selectItem` event
- [ ] Filter non-placeable items in inventory (hay, serving food, bedding)

**Key Files to Modify:**
| File | Changes |
|------|---------|
| [Habitat3DDebug.vue](../../src/components/debug/environment/Habitat3DDebug.vue) | Placement mode state, mousemove handler, preview mesh, click handler |
| [Inventory3DPanel.vue](../../src/components/game/Inventory3DPanel.vue) | Only emit for placeable items |
| [shared/utils.ts](../../src/composables/3d-models/shared/utils.ts) | Add `worldToGrid()` function |
| [habitatConditions.ts](../../src/stores/habitatConditions.ts) | May need position validation |

**New Functions:**
- `enterPlacementMode(itemId)` - Creates ghost preview, sets mode
- `exitPlacementMode()` - Removes preview, clears mode
- `isPlaceableItem(item)` - Checks if item can be placed (habitat_item or non-serving food)
- `isValidPlacement(worldX, worldZ, mode)` - Validates bounds, overlap, edge rules
- `worldToGrid(worldX, worldZ)` - Converts world coordinates to grid position

**Visual Feedback:**
- Ghost preview follows mouse position (free placement)
- Green emissive tint when placement is valid
- Red emissive tint when placement is invalid
- Info text: "Click to place [item name] | ESC to cancel"

**Coordinate System:**
- World coords: THREE.js world space (WIDTH=42, DEPTH=30)
- Grid coords: Integer positions (14 cols Ã— 10 rows, cell size 3.0)
- `gridToWorld()` already exists
- Need to add `worldToGrid()` for inverse conversion

---

## Deferred Items (From Previous Sprint)

### Fix Poop Spawn Position
**Priority:** HIGH (P0)
**Status:** â¸ï¸ DEFERRED
**Category:** Bug Fix

**Issue:** Poops appear in wrong places instead of dropping under the guinea pig

**Root Cause:** The unified 3D behavior system doesn't have poop handling yet. Need to port poop logic from deleted `use3DHungerBehavior.ts`.

---

### Create Fur Patterns
**Priority:** LOW (P3)
**Status:** â¸ï¸ DEFERRED
**Category:** Visual Polish

**Reason:** Complex texture work, solid colors sufficient for MVP.

---

## Backlog Items (From todos.md)

### Fix Take Control Mode
**Priority:** HIGH (P1)
**Status:** ðŸ”² TODO
**Category:** Bug Fix

**Issue:** Take control mode is not working

---

### Refactor Habitat3DDebug Component
**Priority:** MEDIUM (P2)
**Status:** ðŸ”² TODO
**Category:** Code Quality

**Goal:** Check Habitat3DDebug for code that should be in its own composable/store/component

**Notes:** Component has grown large - identify extraction candidates

---

### Chew Animation
**Priority:** MEDIUM (P2)
**Status:** ðŸ”² TODO
**Category:** Animation

**Goal:** Add chew animation for guinea pig when chewing toys/items

---

### Enhance Groom Animation
**Priority:** LOW (P3)
**Status:** ðŸ”² TODO
**Category:** Animation

**Goal:** Improve the current grooming animation

---

### Allow More Camera Zoom Out
**Priority:** LOW (P3)
**Status:** ðŸ”² TODO
**Category:** UX

**Goal:** Allow more zooming out to view entire habitat

---

### Create Habitat World Boundaries
**Priority:** MEDIUM (P2)
**Status:** ðŸ”² TODO
**Category:** UX

**Goal:** Create boundaries around habitat world so camera doesn't drift endlessly

---

### Clean Cage Bedding Dialog
**Priority:** MEDIUM (P2)
**Status:** ðŸ”² TODO
**Category:** Feature Parity

**Goal:** Clean cage action needs bedding dialog flow like 2D habitat

---

### Hay Rack Popover
**Priority:** MEDIUM (P2)
**Status:** ðŸ”² TODO
**Category:** Feature Parity

**Goal:** The hay popover when clicking on hay rack should be like the one in the 2D habitat

---

### Fix Fullscreen Distortion
**Priority:** MEDIUM (P2)
**Status:** ðŸ”² TODO
**Category:** Bug Fix

**Goal:** Fullscreen is distorted on large monitors - need to constrain proportions

---

## Implementation Order

**Phase 1: Testing (Verify Existing Work)**
1. [ ] Test drinking behavior end-to-end
2. [ ] Test hunger behavior end-to-end

**Phase 2: Code Quality**
3. [ ] Run code audit on 3D behavior system
4. [ ] Run CSS audit on new menu components
5. [ ] Fix any issues found

**Phase 3: Shelter Need (Core Feature)**
6. [ ] Research igloo pathfinding
7. [ ] Add shelter behavior to unified system
8. [ ] Implement enter/exit igloo logic
9. [ ] Test shelter need fulfillment

---

## Future Needs Roadmap

| Need | Item Required | Notes |
|------|---------------|-------|
| Hunger | Food bowl | âœ… Implemented |
| Thirst | Water bottle | âœ… Implemented |
| Shelter | Igloo/Hideout | âœ… Implemented |
| Energy | Igloo/Hideout/Bed | âœ… Implemented |
| Hygiene | Self-groom | âœ… Implemented (groom in place) |
| Chew | Chew toy | Navigate to toy |
| Play | Toy | Navigate to toy, play animation |
| Social | Other guinea pig | Approach companion |
| Comfort | Fleece/bedding | Sit on comfortable surface |
| Nails | Player interaction | Cannot self-fulfill |
| Health | Player interaction | Cannot self-fulfill |

---

## Reference Files

| Feature | Reference |
|---------|-----------|
| Unified Behavior System | `src/composables/3d/use3DBehavior.ts` |
| Movement Controller | `src/composables/3d/use3DMovement.ts` |
| Guinea Pig Animation | `src/composables/use3DGuineaPig.ts` |
| Igloo Model | `src/composables/3d-models/environment/igloos.ts` |
| 2D Shelter Behavior | `src/composables/game/useGuineaPigBehavior.ts` |
| Side Panel Base Component | `src/components/game/SidePanel3D.vue` |
| Inventory Panel | `src/components/game/Inventory3DPanel.vue` |
| 3D Model Utils | `src/composables/3d-models/shared/utils.ts` |
| Habitat Conditions Store | `src/stores/habitatConditions.ts` |
